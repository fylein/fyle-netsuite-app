<div class="content" *ngIf="!isLoading">
    <div class="schedule-content">
        <form [formGroup]="form">

            <div class="bank-account">
                <label for="netsuiteLocations" class="d-flex">NetSuite Location</label>
                <select formControlName="netsuiteLocations" id="netsuiteLocations" class="form-control selectpicker col-4">
                    <option *ngFor="let bankAccount of netsuiteLocations; let i = index"
                        [selected]="netsuiteLocations[i].destination_id === generalMappings.location_id" [value]="netsuiteLocations[i].destination_id">
                        {{netsuiteLocations[i].value}}
                    </option>
                </select>
            </div>

            <div class="text-danger mb-2" *ngIf="!locationIsValid">
                <small>
                    Location should not be empty
                </small>
            </div>

            <div class="bank-account">
                <label for="accountsPayableAccounts" class="d-flex">Accounts Payable Account</label>
                <select formControlName="accountsPayableAccounts" id="accountsPayableAccounts" class="form-control selectpicker col-4">
                    <option *ngFor="let bankAccount of accountsPayableAccounts; let i = index"
                        [selected]="accountsPayableAccounts[i].destination_id === generalMappings.accounts_payable_id" [value]="accountsPayableAccounts[i].destination_id">
                        {{accountsPayableAccounts[i].value}}
                    </option>
                </select>
            </div>

            <div class="text-danger mb-2" *ngIf="!accountsPayableIsValid">
                <small>
                    Account should not be empty
                </small>
            </div>

            <div class="save-schedule">
                <button class="main-btn btn save-btn" type="submit" (click)="open(content)">Save</button>
            </div>

            <div class="save-schedule">
                <p>
                    To change your settings, Please send us a note at 
                    <a class="support" href="mailto:support@fyle.in">support@fyle.in</a>
                </p>
            </div>

            <ng-template #content let-modal>
                <div class="modal-header">
                    <h5 class="modal-title" id="generalSettingModalTitle">Save Settings</h5>
                    <button type="button" class="close ml-auto" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p class="md-caption text-danger mt-0">
                        Location cannot be modified once saved.
                        Are you sure you want to continue ? 
                    </p>
                </div>
                <div class="modal-footer">
                    <button id="cancel-btn" class="btn btnInline cancelBtn" type="button" data-dismiss="modal"
                        (click)="closeModal()">Cancel</button>
                    <button id="submit-btn" class="btn btnInline saveBtn" type="submit" name="method" (click)="submit()">Save</button>
                </div>
            </ng-template>

        </form>
    </div>
</div>
<app-loader *ngIf="isLoading"></app-loader>
